# Phase 2: 提示词工程 - 自测题

## 📝 使用说明

完成以下测试来检验你对提示词工程的掌握程度。建议先独立完成，然后再查看答案。

---

## 第一部分：概念理解（选择题）

### 1. 提示词工程的核心三原则是什么？

A. Context（上下文）、Temperature（温度）、Tokens（词元）  
B. Context（上下文）、Role（角色）、Constraints（约束）  
C. Role（角色）、Examples（示例）、Format（格式）  
D. Clarity（清晰度）、Creativity（创造性）、Consistency（一致性）

<details>
<summary>查看答案</summary>

**答案：B**

核心三原则是：

- **Context（上下文）**：提供背景信息
- **Role（角色）**：指定模型应扮演的角色
- **Constraints（约束）**：明确输出的格式和限制
</details>

---

### 2. 以下哪个提示词更有可能获得高质量的输出？

**A. 提示词：**

```
帮我写一个函数
```

**B. 提示词：**

```
你是一位资深的TypeScript开发者。
请编写一个函数，功能是计算两个日期之间的天数差。
要求：
- 使用TypeScript
- 包含类型注解
- 添加输入验证
- 包含JSDoc注释
```

<details>
<summary>查看答案</summary>

**答案：B**

B 选项包含了：

- **角色**："资深的 TypeScript 开发者"
- **上下文**：明确了要做什么（计算日期差）
- **约束**：具体的技术要求（类型、验证、注释）

A 选项太模糊，没有提供足够的信息。

</details>

---

### 3. Chain of Thought (CoT) 最适合应用于哪种场景？

A. 简单的文本摘要任务  
B. 需要逻辑推理的复杂数学问题  
C. 随机生成创意故事  
D. 翻译任务

<details>
<summary>查看答案</summary>

**答案：B**

CoT（思维链）最适合需要**多步骤推理**的任务，如：

- 数学问题求解
- 逻辑推理题
- 复杂的决策分析
- 多步骤的计算任务

CoT 让模型展示推理过程，提高准确率并增强可解释性。

</details>

---

### 4. 要让模型输出纯 JSON 格式，最有效的做法是？

A. 在提示词中说"请输出 JSON"  
B. 设置 Temperature 为 0  
C. 明确要求"只输出纯 JSON，不要任何额外说明"并提供 JSON 模板  
D. 使用特殊的 API 参数

<details>
<summary>查看答案</summary>

**答案：C**

最有效的做法是：

1. 明确要求"只输出纯 JSON，不要任何额外说明"
2. 提供具体的 JSON 结构模板
3. 示例：

```
要求输出格式（纯JSON，不要任何额外说明）：
{
  "name": "...",
  "age": "..."
}
```

这样可以最大程度避免模型添加额外的解释文字。

</details>

---

## 第二部分：判断题（对错分析）

### 5. 判断：提示词越长越好，提供的信息越多，输出质量越高。

<details>
<summary>查看答案</summary>

**错误 ❌**

虽然提供足够的上下文很重要，但提示词并不是越长越好。关键在于：

- **明确具体**：清晰表达需求
- **信息相关**：只包含相关的上下文
- **避免冗余**：不要重复或无关的信息

过长的提示词可能：

- 消耗更多 tokens（增加成本）
- 分散模型注意力
- 降低核心信息的权重
</details>

---

### 6. 判断：设定角色（Role）对输出质量没有实质影响，只是一种心理暗示。

<details>
<summary>查看答案</summary>

**错误 ❌**

设定角色**有实质影响**！

当你说"你是一位资深架构师"时，模型会：

- 使用更专业的术语
- 提供更深入的技术见解
- 从专家的视角分析问题
- 给出更符合该领域标准的建议

这是因为训练数据中不同角色的文本风格和专业程度确实不同。

</details>

---

### 7. 判断：使用 CoT 时，模型展示的推理过程总是正确的。

<details>
<summary>查看答案</summary>

**错误 ❌**

CoT 让模型展示推理过程，但**不保证过程正确**！

CoT 的价值在于：

- 让你能**验证**推理逻辑
- 发现推理中的错误步骤
- 提高复杂任务的准确率

但你仍需要：

- 检查每一步的逻辑
- 验证最终答案
- 对关键结果进行人工审核
</details>

---

## 第三部分：实践应用（简答题）

### 8. 优化提示词

**原始提示词（效果不佳）：**

```
写一个登录页面
```

**任务：** 使用三原则（Context + Role + Constraints）优化这个提示词。

<details>
<summary>查看参考答案</summary>

**优化后的提示词示例：**

```
你是一位资深的前端开发工程师，擅长React和TypeScript。

请为一个企业SaaS应用创建一个登录页面组件。

技术要求：
- 使用React + TypeScript
- 使用Material-UI组件库
- 包含邮箱和密码输入框
- 添加表单验证（邮箱格式、密码最短8位）
- 包含"记住我"复选框
- 添加"忘记密码"链接

设计要求：
- 简洁专业的企业风格
- 响应式设计（支持移动端）
- 包含合适的loading状态

请提供完整的TypeScript代码。
```

**要点：**

- ✅ Context：企业 SaaS 应用的登录页
- ✅ Role：资深前端工程师
- ✅ Constraints：技术栈、功能、设计要求
</details>

---

### 9. 应用 CoT

**问题：** 一个水池有进水管和出水管。进水管每小时注入 12 升水，出水管每小时排出 8 升水。如果水池初始有 50 升水，两管同时工作，多久后水池会有 80 升水？

**任务：** 编写一个使用 CoT 的提示词来解决这个问题。

<details>
<summary>查看参考答案</summary>

**使用 CoT 的提示词：**

```
问题：一个水池有进水管和出水管。进水管每小时注入12升水，
出水管每小时排出8升水。如果水池初始有50升水，两管同时工作，
多久后水池会有80升水？

请一步步展示你的计算过程：
1. 计算每小时水池净增加的水量
2. 计算需要增加的总水量
3. 计算需要的时间
4. 验证答案
```

**预期的 CoT 回答：**

```
让我一步步计算：

1. 计算每小时净增加水量：
   - 进水速度：12升/小时
   - 出水速度：8升/小时
   - 净增速度：12 - 8 = 4升/小时

2. 计算需要增加的总水量：
   - 目标水量：80升
   - 初始水量：50升
   - 需增加：80 - 50 = 30升

3. 计算需要的时间：
   - 时间 = 需增加的水量 ÷ 净增速度
   - 时间 = 30 ÷ 4 = 7.5小时

4. 验证：
   - 7.5小时后进水：12 × 7.5 = 90升
   - 7.5小时后出水：8 × 7.5 = 60升
   - 最终水量：50 + 90 - 60 = 80升 ✓

答案：需要7.5小时。
```

</details>

---

### 10. 设计结构化输出提示词

**场景：** 你需要从一段新闻文本中提取关键信息并存入数据库。

**示例文本：**

```
特斯拉CEO马斯克宣布，公司将于2024年6月15日在加州弗里蒙特工厂
举办新款Model 3发布会。此次发布会将展示全新的内饰设计和
自动驾驶技术升级。
```

**任务：** 设计一个提示词，要求输出包含以下字段的 JSON：

- company（公司名）
- person（人物）
- date（日期）
- location（地点）
- event（事件）
- product（产品）

<details>
<summary>查看参考答案</summary>

**结构化输出提示词：**

```
从以下新闻文本中提取关键信息，并以JSON格式输出：

文本：
特斯拉CEO马斯克宣布，公司将于2024年6月15日在加州弗里蒙特工厂
举办新款Model 3发布会。此次发布会将展示全新的内饰设计和
自动驾驶技术升级。

要求输出格式（纯JSON，不要任何额外说明）：
{
  "company": "公司名称",
  "person": "相关人物",
  "date": "日期（YYYY-MM-DD格式）",
  "location": "地点",
  "event": "事件描述",
  "product": "相关产品"
}
```

**预期输出：**

```json
{
  "company": "特斯拉",
  "person": "马斯克",
  "date": "2024-06-15",
  "location": "加州弗里蒙特工厂",
  "event": "新款Model 3发布会",
  "product": "Model 3"
}
```

</details>

---

## 第四部分：高级应用（综合题）

### 11. 诊断与优化

**场景：** 开发者小李使用以下提示词，但 AI 的回答总是不理想：

```
帮我分析一下这段代码有什么问题
[一段100行的Python代码]
```

**问题：**

1. 识别这个提示词有哪些问题？
2. 如何优化？

<details>
<summary>查看参考答案</summary>

**问题分析：**

1. ❌ **缺少上下文**

   - 没说明代码的用途
   - 没说明遇到的具体问题（报错？性能？逻辑？）

2. ❌ **没有角色设定**

   - 不知道应该从什么角度分析

3. ❌ **缺少约束**
   - 没指定分析的重点
   - 没要求输出格式

**优化后的提示词：**

```
你是一位资深的Python后端开发工程师，擅长代码审查和性能优化。

以下是一段Django REST API的视图代码，功能是处理用户订单查询。
当前问题：响应时间超过3秒，数据库查询过多。

请分析代码中的问题，重点关注：
1. 数据库查询优化（N+1问题、缺失索引等）
2. 代码结构和可读性
3. 潜在的性能瓶颈

输出格式：
- 问题列表（优先级从高到低）
- 每个问题的具体说明
- 优化建议和示例代码

代码：
[一段100行的Python代码]
```

**改进要点：**

- ✅ 明确角色：资深 Python 工程师
- ✅ 提供上下文：Django API、订单查询、性能问题
- ✅ 指定约束：分析重点、输出格式
- ✅ 问题明确：响应慢、查询多
</details>

---

## 评分标准

- **8-11 题正确**：优秀！你已经完全掌握了提示词工程的核心概念 🎉
- **5-7 题正确**：良好！理解了大部分内容，建议复习错误的部分 👍
- **3-4 题正确**：及格！需要重新学习部分概念 📚
- **0-2 题正确**：建议重新学习 Phase 2 的内容 💪

---

## 💡 提示词工程最佳实践

完成测验后，记住这些关键原则：

1. **总是应用三原则**：Context + Role + Constraints
2. **复杂任务用 CoT**：让 AI 展示思考过程
3. **结构化数据用 JSON**：提供明确的模板
4. **不断迭代优化**：第一版通常不是最好的
5. **测试边界情况**：确保提示词稳健

祝你学习顺利！🚀
